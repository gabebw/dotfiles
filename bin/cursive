#!/usr/bin/env fish -N

# Fish's `read` removes trailing newline from STDIN, so that the copied result
# doesn't have a newline at the end. (The most common input is a single line of
# text.)

function translate
  tr "abcdefghijklmnopqrstuvwxyz" "ğ’¶ğ’·ğ’¸ğ’¹ğ‘’ğ’»ğ‘”ğ’½ğ’¾ğ’¿ğ“€ğ“ğ“‚ğ“ƒğ‘œğ“…ğ“†ğ“‡ğ“ˆğ“‰ğ“Šğ“‹ğ“Œğ“ğ“ğ“" | pbcopy
end

if [ (count $argv) -eq 0 ]
  # No args, assume we're piping in
  read | translate
else
  echo -n $argv | translate
end

echo "OK, done and copied to clipboard"
